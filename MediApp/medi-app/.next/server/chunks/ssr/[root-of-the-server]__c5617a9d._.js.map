{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file://C%3A/R4M0N/Engenharia%20de%20Software/Programa%C3%A7%C3%A3o%20II/projetoprogramacaoii/MediApp/medi-app/src/app/pacient/list/page.tsx"],"sourcesContent":["\"use client\"\r\nimport React, { useEffect, useState } from 'react'; // HOOK = gancho\r\nimport Link from 'next/link';\r\n\r\nexport default function PacientList() {\r\n    const [pacients, setPacients] = useState(new Array());\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        fetch('http://127.0.0.1:3001/pacients', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': sessionStorage.getItem(\"token\") || ''\r\n            },\r\n        }).then(response => response.json())\r\n        .then(data => setPacients(data))\r\n    }, [pacients]);\r\n\r\n    const deletePacient = async (id: any) => {\r\n        const add = await fetch(`http://127.0.0.1:3001/pacients/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': sessionStorage.getItem(\"token\") || ''\r\n            },\r\n        });\r\n        const content = await add.json();\r\n        \r\n        if (content.login) {\r\n            window.location.reload();\r\n        } else {\r\n            setError(content.error);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Link className=\"font-medium text-blue-600 dark:text-blue-500 hover:underline\" href=\"/home\">Voltar</Link>\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <td className='border border-slate-300'>Nome</td>\r\n                        <td className='border border-slate-300 text-center'>Nascimento</td>\r\n                        <td className='border border-slate-300 text-center'>Email</td>\r\n                        <td className='border border-slate-300 text-center'>Telefone</td>\r\n                    </tr>\r\n                </thead>\r\n\r\n                <tbody className=\"pacients\" id=\"pacients\">\r\n                    {!!pacients && pacients.map((pacient: any) => (\r\n                        <tr>\r\n                            <td className='border border-slate-300'>{pacient.name}</td>\r\n                            <td className='border border-slate-300 text-center'>{pacient.birthDate}</td>\r\n                            <td className='border border-slate-300 text-center'>{pacient.email}</td>\r\n                            <td className='border border-slate-300 text-center'>{pacient.phone}</td>\r\n                            <td className='border border-slate-300 text-center'>\r\n                                <button onClick={(e) => deletePacient(pacient._id)} className='bg-red-500 p-2 inline-block text-white text-sm'>Delete</button></td>\r\n                            <td className='border border-slate-300 text-center'>\r\n                            <Link href={`/pacient/edit/${pacient._id}`} className='bg-yellow-500 p-2 inline-block ml-3 text-white text-sm'>Edit</Link></td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n            <div>\r\n                {error && <div className=\"p-2 text-white border-gray-200 border-[1px] rounded-sm bg-red-400\" style={{ color: 'red' }}>{error}</div>}\r\n            </div>\r\n        </>\r\n    )\r\n}"],"names":[],"mappings":";;;;AACA,oVAAoD,gBAAgB;AACpE;AAFA;;;;AAIe,SAAS;IACpB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,IAAI;IAC7C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,kCAAkC;YACpC,QAAQ;YACR,SAAS;gBACL,gBAAgB;gBAChB,iBAAiB,eAAe,OAAO,CAAC,YAAY;YACxD;QACJ,GAAG,IAAI,CAAC,CAAA,WAAY,SAAS,IAAI,IAChC,IAAI,CAAC,CAAA,OAAQ,YAAY;IAC9B,GAAG;QAAC;KAAS;IAEb,MAAM,gBAAgB,OAAO;QACzB,MAAM,MAAM,MAAM,MAAM,CAAC,+BAA+B,EAAE,IAAI,EAAE;YAC5D,QAAQ;YACR,SAAS;gBACL,gBAAgB;gBAChB,iBAAiB,eAAe,OAAO,CAAC,YAAY;YACxD;QACJ;QACA,MAAM,UAAU,MAAM,IAAI,IAAI;QAE9B,IAAI,QAAQ,KAAK,EAAE;YACf,OAAO,QAAQ,CAAC,MAAM;QAC1B,OAAO;YACH,SAAS,QAAQ,KAAK;QAC1B;IACJ;IAEA,qBACI;;0BACI,8OAAC,4JAAA,CAAA,UAAI;gBAAC,WAAU;gBAA+D,MAAK;0BAAQ;;;;;;0BAC5F,8OAAC;;kCACG,8OAAC;kCACG,cAAA,8OAAC;;8CACG,8OAAC;oCAAG,WAAU;8CAA0B;;;;;;8CACxC,8OAAC;oCAAG,WAAU;8CAAsC;;;;;;8CACpD,8OAAC;oCAAG,WAAU;8CAAsC;;;;;;8CACpD,8OAAC;oCAAG,WAAU;8CAAsC;;;;;;;;;;;;;;;;;kCAI5D,8OAAC;wBAAM,WAAU;wBAAW,IAAG;kCAC1B,CAAC,CAAC,YAAY,SAAS,GAAG,CAAC,CAAC,wBACzB,8OAAC;;kDACG,8OAAC;wCAAG,WAAU;kDAA2B,QAAQ,IAAI;;;;;;kDACrD,8OAAC;wCAAG,WAAU;kDAAuC,QAAQ,SAAS;;;;;;kDACtE,8OAAC;wCAAG,WAAU;kDAAuC,QAAQ,KAAK;;;;;;kDAClE,8OAAC;wCAAG,WAAU;kDAAuC,QAAQ,KAAK;;;;;;kDAClE,8OAAC;wCAAG,WAAU;kDACV,cAAA,8OAAC;4CAAO,SAAS,CAAC,IAAM,cAAc,QAAQ,GAAG;4CAAG,WAAU;sDAAiD;;;;;;;;;;;kDACnH,8OAAC;wCAAG,WAAU;kDACd,cAAA,8OAAC,4JAAA,CAAA,UAAI;4CAAC,MAAM,CAAC,cAAc,EAAE,QAAQ,GAAG,EAAE;4CAAE,WAAU;sDAAyD;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAK/H,8OAAC;0BACI,uBAAS,8OAAC;oBAAI,WAAU;oBAAoE,OAAO;wBAAE,OAAO;oBAAM;8BAAI;;;;;;;;;;;;;AAIvI","debugId":null}}]
}