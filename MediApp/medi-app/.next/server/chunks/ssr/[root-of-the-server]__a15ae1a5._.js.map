{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file://C%3A/R4M0N/Engenharia%20de%20Software/Programa%C3%A7%C3%A3o%20II/projetoprogramacaoii/MediApp/medi-app/src/app/doctor/list/page.tsx"],"sourcesContent":["\"use client\"\r\nimport React, { useEffect, useState } from 'react'; // HOOK = gancho\r\nimport Link from 'next/link';\r\n\r\nexport default function DoctorList() {\r\n    const [doctors, setDoctors] = useState(new Array());\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        fetch('http://127.0.0.1:3001/doctors', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': sessionStorage.getItem(\"token\") || ''\r\n            },\r\n        }).then(response => response.json())\r\n        .then(data => setDoctors(data))\r\n    }, [doctors]);\r\n\r\n    const deleteDoctor = async (id: any) => {\r\n        const add = await fetch(`http://127.0.0.1:3001/doctors/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': sessionStorage.getItem(\"token\") || ''\r\n            },\r\n        });\r\n        const content = await add.json();\r\n        console.log(content);\r\n        if (content.login) {\r\n            window.location.reload();\r\n        } else {\r\n            setError(content.error);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Link className=\"font-medium text-blue-600 dark:text-blue-500 hover:underline\" href=\"/home\">Voltar</Link>\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <td className='border border-slate-300'>Nome</td>\r\n                        <td className='border border-slate-300 text-center'>Login</td>\r\n                        <td className='border border-slate-300 text-center'>Especialidade Médica</td>\r\n                        <td className='border border-slate-300 text-center'>Registro Médico</td>\r\n                        <td className='border border-slate-300 text-center'>Email</td>\r\n                        <td className='border border-slate-300 text-center'>Telefone</td>\r\n                    </tr>\r\n                </thead>\r\n\r\n                <tbody className=\"doctors\" id=\"doctors\">\r\n                    {!!doctors && doctors.map((doctor: any) => (\r\n                        <tr>\r\n                            <td className='border border-slate-300'>{doctor.name}</td>\r\n                            <td className='border border-slate-300 text-center'>{doctor.login}</td>\r\n                            <td className='border border-slate-300 text-center'>{doctor.medicalSpecialty}</td>\r\n                            <td className='border border-slate-300 text-center'>{doctor.medicalRegistration}</td>\r\n                            <td className='border border-slate-300 text-center'>{doctor.email}</td>\r\n                            <td className='border border-slate-300 text-center'>{doctor.phone}</td>\r\n                            <td className='border border-slate-300 text-center'>\r\n                                <button onClick={(e) => deleteDoctor(doctor._id)} className='bg-red-500 p-2 inline-block text-white text-sm'>Delete</button></td>\r\n                            <td className='border border-slate-300 text-center'>\r\n                            <Link href={`/doctor/edit/${doctor._id}`} className='bg-yellow-500 p-2 inline-block ml-3 text-white text-sm'>Edit</Link></td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n            <div>\r\n                {error && <div className=\"p-2 text-white border-gray-200 border-[1px] rounded-sm bg-red-400\" style={{ color: 'red' }}>{error}</div>}\r\n            </div>\r\n        </>\r\n    )\r\n}"],"names":[],"mappings":";;;;AACA,oVAAoD,gBAAgB;AACpE;AAFA;;;;AAIe,SAAS;IACpB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,IAAI;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,iCAAiC;YACnC,QAAQ;YACR,SAAS;gBACL,gBAAgB;gBAChB,iBAAiB,eAAe,OAAO,CAAC,YAAY;YACxD;QACJ,GAAG,IAAI,CAAC,CAAA,WAAY,SAAS,IAAI,IAChC,IAAI,CAAC,CAAA,OAAQ,WAAW;IAC7B,GAAG;QAAC;KAAQ;IAEZ,MAAM,eAAe,OAAO;QACxB,MAAM,MAAM,MAAM,MAAM,CAAC,8BAA8B,EAAE,IAAI,EAAE;YAC3D,QAAQ;YACR,SAAS;gBACL,gBAAgB;gBAChB,iBAAiB,eAAe,OAAO,CAAC,YAAY;YACxD;QACJ;QACA,MAAM,UAAU,MAAM,IAAI,IAAI;QAC9B,QAAQ,GAAG,CAAC;QACZ,IAAI,QAAQ,KAAK,EAAE;YACf,OAAO,QAAQ,CAAC,MAAM;QAC1B,OAAO;YACH,SAAS,QAAQ,KAAK;QAC1B;IACJ;IAEA,qBACI;;0BACI,8OAAC,4JAAA,CAAA,UAAI;gBAAC,WAAU;gBAA+D,MAAK;0BAAQ;;;;;;0BAC5F,8OAAC;;kCACG,8OAAC;kCACG,cAAA,8OAAC;;8CACG,8OAAC;oCAAG,WAAU;8CAA0B;;;;;;8CACxC,8OAAC;oCAAG,WAAU;8CAAsC;;;;;;8CACpD,8OAAC;oCAAG,WAAU;8CAAsC;;;;;;8CACpD,8OAAC;oCAAG,WAAU;8CAAsC;;;;;;8CACpD,8OAAC;oCAAG,WAAU;8CAAsC;;;;;;8CACpD,8OAAC;oCAAG,WAAU;8CAAsC;;;;;;;;;;;;;;;;;kCAI5D,8OAAC;wBAAM,WAAU;wBAAU,IAAG;kCACzB,CAAC,CAAC,WAAW,QAAQ,GAAG,CAAC,CAAC,uBACvB,8OAAC;;kDACG,8OAAC;wCAAG,WAAU;kDAA2B,OAAO,IAAI;;;;;;kDACpD,8OAAC;wCAAG,WAAU;kDAAuC,OAAO,KAAK;;;;;;kDACjE,8OAAC;wCAAG,WAAU;kDAAuC,OAAO,gBAAgB;;;;;;kDAC5E,8OAAC;wCAAG,WAAU;kDAAuC,OAAO,mBAAmB;;;;;;kDAC/E,8OAAC;wCAAG,WAAU;kDAAuC,OAAO,KAAK;;;;;;kDACjE,8OAAC;wCAAG,WAAU;kDAAuC,OAAO,KAAK;;;;;;kDACjE,8OAAC;wCAAG,WAAU;kDACV,cAAA,8OAAC;4CAAO,SAAS,CAAC,IAAM,aAAa,OAAO,GAAG;4CAAG,WAAU;sDAAiD;;;;;;;;;;;kDACjH,8OAAC;wCAAG,WAAU;kDACd,cAAA,8OAAC,4JAAA,CAAA,UAAI;4CAAC,MAAM,CAAC,aAAa,EAAE,OAAO,GAAG,EAAE;4CAAE,WAAU;sDAAyD;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAK7H,8OAAC;0BACI,uBAAS,8OAAC;oBAAI,WAAU;oBAAoE,OAAO;wBAAE,OAAO;oBAAM;8BAAI;;;;;;;;;;;;;AAIvI","debugId":null}}]
}